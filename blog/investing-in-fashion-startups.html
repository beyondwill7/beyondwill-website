<!-- New Modal -->
<div id="modal" class="fixed inset-0 z-[100] flex items-center justify-center px-4 backdrop-blur-md bg-black/80 hidden">
  <div class="relative max-w-3xl w-full max-h-[90vh] overflow-y-auto bg-white/5 backdrop-blur-2xl rounded-2xl border border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)] p-8 text-white">
    
    <!-- Close Button -->
    <button id="modal-close"
      class="absolute top-4 right-4 text-white text-2xl font-bold bg-white/10 rounded-full w-10 h-10 flex items-center justify-center hover:bg-pink-600 hover:scale-110 transition-all">
      &times;
    </button>

    <!-- Modal Body -->
    <div id="modal-body" class="space-y-6 text-gray-200 leading-relaxed prose prose-invert max-w-none">
      <p class="text-center text-gray-400">Loading content...</p>
    </div>
  </div>
</div>

<!-- JS -->
<script>
  const modal = document.getElementById('modal');
  const modalBody = document.getElementById('modal-body');
  const modalClose = document.getElementById('modal-close');

  document.querySelectorAll('.read-more').forEach(btn => {
    btn.addEventListener('click', async (e) => {
      const url = btn.getAttribute('data-url');
      modal.classList.remove('hidden');
      modalBody.innerHTML = '<p class="text-center text-gray-400">Loading content...</p>';

      try {
        const res = await fetch(url);
        const html = await res.text();
        const doc = new DOMParser().parseFromString(html, 'text/html');
        const content = doc.querySelector('#blog-content') || doc.body;

        // Add Tailwind enhancements to loaded content
        const wrap = document.createElement('div');
        wrap.innerHTML = content.innerHTML;

        wrap.querySelectorAll('h1').forEach(el => el.className = 'text-3xl md:text-4xl font-extrabold bg-gradient-to-r from-orange-500 to-pink-500 text-transparent bg-clip-text');
        wrap.querySelectorAll('h2').forEach(el => el.className = 'text-2xl md:text-3xl font-bold text-orange-400');
        wrap.querySelectorAll('p').forEach(el => el.className = 'text-base md:text-lg text-gray-300 leading-loose');

        modalBody.innerHTML = wrap.innerHTML;
      } catch (err) {
        modalBody.innerHTML = '<p class="text-center text-red-500">Failed to load blog. Please try again.</p>';
        console.error(err);
      }
    });
  });

  modalClose.addEventListener('click', () => modal.classList.add('hidden'));
  window.addEventListener('click', (e) => {
    if (e.target === modal) modal.classList.add('hidden');
  });
</script>
